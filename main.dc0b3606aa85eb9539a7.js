(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(n,e,t){},QfWi:function(n,e,t){"use strict";t.r(e);t("L1EO");var l=t("dIfx");t("mNaS"),t("UOjr");function r(n){l.a.error({text:n,delay:3e3})}t("JBxO"),t("FdtR");var o=t("jffb"),a=t.n(o),c=t("dnmO"),u=t.n(c),i=t("vA2Q"),s=t.n(i),p={form:document.querySelector(".search-form"),container:document.querySelector(".countries")};p.form.addEventListener("input",a()((function(n){var e=n.target.value;p.container.innerHTML="",function(n){var e="https://restcountries.eu/rest/v2/name/"+n;if(!n)return t="Please, enter country name!",void l.a.notice({text:t,delay:3e3});var t;fetch(e).then((function(n){if(200!==n.status)throw new Error("Error fetching data");return n.json()})).then((function(n){n.length>10?r("Too many matches found. Please enter a more specific query!"):n.length>=2&&n.length<=10?function(n){var e=s()(n);p.container.insertAdjacentHTML("beforeend",e)}(n):function(n){var e=u()(n);p.container.insertAdjacentHTML("beforeend",e)}(n)})).catch((function(n){404?r("No matches were found! Check your request."):r("Oops! Something went wrong. Try again.")}))}(e)}),500));var m={container:document.querySelector(".gallery"),form:document.querySelector(".form"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),loadMoreBtnLabel:document.querySelector('button[data-action="load-more"] >.label'),loadMoreBtnSpinner:document.querySelector('button[data-action="load-more"] >.spinner'),spinner:document.querySelector("#spinner")},f=t("l8Ea"),d=t.n(f);var h=function(n){var e=d()(n);m.container.insertAdjacentHTML("beforeend",e)},y={searchQuery:"",page:1,fetchArticles:function(){var n=this,e="http://newsapi.org/v2/everything?q="+this.searchQuery+"&language=en&pageSize=5&page="+this.page;return fetch(e,{method:"GET",headers:{Accept:"application/json",Authorization:"4330ebfabc654a6992c2aa792f3173a3"}}).then((function(n){return n.json()})).then((function(e){var t=e.articles;return n.page+=1,console.log(t),t})).catch((function(n){return console.log(n)}))},resetPage:function(){this.page=1},get query(){return this.searchQuery},set query(n){this.searchQuery=n}},g=function(){m.loadMoreBtn.disabled=!1,m.loadMoreBtnLabel.textContent="Показать еще",m.loadMoreBtnSpinner.classList.add("is-hidden")},v=function(){m.loadMoreBtn.disabled=!0,m.loadMoreBtnLabel.textContent="Загружаем...",m.loadMoreBtnSpinner.classList.remove("is-hidden")},b=function(){m.loadMoreBtn.classList.remove("is-hidden")};function x(){v(),y.fetchArticles().then((function(n){h(n),b(),g(),window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})}))}m.form.addEventListener("submit",(function(n){n.preventDefault(),y.query=n.currentTarget.elements.query.value,console.log(y.query),m.container.innerHTML="",y.resetPage(),x(),m.form.reset()})),m.loadMoreBtn.addEventListener("click",x)},dnmO:function(n,e,t){var l=t("mp5j");n.exports=(l.default||l).template({1:function(n,e,t,l,r){var o,a,c=null!=e?e:n.nullContext||{},u=n.hooks.helperMissing,i="function",s=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<li class="result-elm">\r\n    <h2>'+s(typeof(a=null!=(a=p(t,"name")||(null!=e?p(e,"name"):e))?a:u)===i?a.call(c,{name:"name",hash:{},data:r,loc:{start:{line:3,column:8},end:{line:3,column:16}}}):a)+'</h2>\r\n\r\n    <div class="result-box">\r\n        <div>\r\n            <p>\r\n                <span class="text"> Capital:</span>\r\n                '+s(typeof(a=null!=(a=p(t,"capital")||(null!=e?p(e,"capital"):e))?a:u)===i?a.call(c,{name:"capital",hash:{},data:r,loc:{start:{line:9,column:16},end:{line:9,column:27}}}):a)+'\r\n            </p>\r\n            <p>\r\n                <span class="text"> Population:</span>\r\n                '+s(typeof(a=null!=(a=p(t,"population")||(null!=e?p(e,"population"):e))?a:u)===i?a.call(c,{name:"population",hash:{},data:r,loc:{start:{line:13,column:16},end:{line:13,column:30}}}):a)+'\r\n            </p>\r\n\r\n            <ul class="languages-list">\r\n                <span class="text"> Languages:</span>\r\n'+(null!=(o=p(t,"each").call(c,null!=e?p(e,"languages"):e,{name:"each",hash:{},fn:n.program(2,r,0),inverse:n.noop,data:r,loc:{start:{line:18,column:16},end:{line:20,column:25}}}))?o:"")+'            </ul>\r\n        </div>\r\n\r\n        <div class="flag-box">\r\n            <img src='+s(typeof(a=null!=(a=p(t,"flag")||(null!=e?p(e,"flag"):e))?a:u)===i?a.call(c,{name:"flag",hash:{},data:r,loc:{start:{line:25,column:21},end:{line:25,column:29}}}):a)+" alt="+s(typeof(a=null!=(a=p(t,"name")||(null!=e?p(e,"name"):e))?a:u)===i?a.call(c,{name:"name",hash:{},data:r,loc:{start:{line:25,column:34},end:{line:25,column:42}}}):a)+' width="300">\r\n        </div>\r\n\r\n</li>\r\n</div>\r\n'},2:function(n,e,t,l,r){var o,a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'                <li class="languages-elm">'+n.escapeExpression("function"==typeof(o=null!=(o=a(t,"name")||(null!=e?a(e,"name"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:19,column:42},end:{line:19,column:50}}}):o)+"</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,r){var o;return null!=(o=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(t,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:1,column:0},end:{line:30,column:9}}}))?o:""},useData:!0})},l8Ea:function(n,e,t){var l=t("mp5j");n.exports=(l.default||l).template({1:function(n,e,t,l,r){var o,a=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,u=n.escapeExpression,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<li>\r\n    <h2>\r\n        <a href="'+u("function"==typeof(o=null!=(o=i(t,"url")||(null!=e?i(e,"url"):e))?o:c)?o.call(a,{name:"url",hash:{},data:r,loc:{start:{line:5,column:17},end:{line:5,column:24}}}):o)+'" target="_blank" rel="noopener noreferrer">'+u("function"==typeof(o=null!=(o=i(t,"title")||(null!=e?i(e,"title"):e))?o:c)?o.call(a,{name:"title",hash:{},data:r,loc:{start:{line:5,column:68},end:{line:5,column:77}}}):o)+"</a>\r\n    </h2>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,r){var o;return null!=(o=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(t,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?o:""},useData:!0})},vA2Q:function(n,e,t){var l=t("mp5j");n.exports=(l.default||l).template({1:function(n,e,t,l,r){var o,a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<li class="country-list">'+n.escapeExpression("function"==typeof(o=null!=(o=a(t,"name")||(null!=e?a(e,"name"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:2,column:25},end:{line:2,column:33}}}):o)+"</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,r){var o;return null!=(o=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(t,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.dc0b3606aa85eb9539a7.js.map